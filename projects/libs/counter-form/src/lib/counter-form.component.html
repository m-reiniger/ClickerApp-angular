<article class="counter-form">
    <mat-icon aria-hidden="false" aria-label="close" fontIcon="close" (click)="close()"></mat-icon>
    <mat-card class="counter-form-card">
        <mat-card-header>{{ title }}</mat-card-header>
        <mat-card-content>
            <form [formGroup]="counterForm" class="counter-form-form">
                <mat-accordion class="example-headers-align" multi>
                    <mat-expansion-panel expanded hideToggle>
                        <mat-expansion-panel-header>
                            <mat-panel-title> Counter </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-form-field class="counter-form-field" appearance="outline">
                            <mat-label>Name</mat-label>
                            <input matInput formControlName="name" />
                        </mat-form-field>
                    </mat-expansion-panel>
                    <mat-expansion-panel>
                        <mat-expansion-panel-header>
                            <mat-panel-title> More options </mat-panel-title>
                        </mat-expansion-panel-header>
                        @if (!editMode) {
                            <mat-form-field class="counter-form-field" appearance="outline">
                                <mat-label>Initial Value</mat-label>
                                <input matInput formControlName="initialValue" type="number" />
                                <!-- <mat-hint>Your counter will start at this value</mat-hint> -->
                            </mat-form-field>
                        }
                        <mat-form-field class="counter-form-field" appearance="outline">
                            <mat-label>Default Increment</mat-label>
                            <input matInput formControlName="defaultIncrement" type="number" />
                            <!-- <mat-hint>The amount that the counter will increment by each time it is clicked</mat-hint> -->
                        </mat-form-field>
                        <mat-form-field class="counter-form-field" appearance="outline">
                            <mat-label>Goal</mat-label>
                            <input matInput formControlName="goal" type="number" />
                            <mat-hint>Set a target value for this counter</mat-hint>
                        </mat-form-field>
                    </mat-expansion-panel>
                </mat-accordion>

                <button mat-flat-button (click)="saveCounter()" type="button">
                    @if (editMode) {
                        Save
                    } @else {
                        Create Counter
                    }
                </button>
            </form>
        </mat-card-content>
    </mat-card>
</article>
