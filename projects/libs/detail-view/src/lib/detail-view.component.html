<article class="detail-view">
    <mat-icon
        class="close"
        aria-hidden="false"
        aria-label="close"
        fontIcon="close"
        (click)="close()"></mat-icon>
    <h3>{{ counterDetail()?.name }}</h3>
    <section class="counter-name">
        <div class="counter-value">
            <div
                class="value-progress-border"
                [style.--progress]="
                    getProgress(
                        counterDetail()!.initialValue,
                        counterDetail()!.goal,
                        counterValue()
                    )
                "
                [class]="{ 'goal-reached': checkGoal(counterDetail()!, counterValue()) }">
                <button mat-fab>
                    {{ counterValue() }}
                    @if (counterDetail()!.goal !== null && counterDetail()!.goal !== undefined) {
                        <span class="goal">/{{ counterDetail()!.goal }}</span>
                    }
                </button>
            </div>
        </div>
    </section>
    <section class="counter-control">
        <div class="decrement-button">
            <button mat-mini-fab (click)="decrementCounterHandle($event, counterDetail()?.id)">
                @if (counterDetail()!.defaultIncrement > 0) {
                    -
                } @else {
                    +
                }
            </button>
        </div>
        <div class="increment-button">
            <button mat-fab (click)="incrementCounterHandle($event, counterDetail()?.id)">
                @if (counterDetail()!.defaultIncrement > 0) {
                    +
                }
                {{ counterDetail()?.defaultIncrement }}
            </button>
        </div>
    </section>
    <section class="counter-tools">
        <button mat-fab (click)="confirmDelete()">
            <span
                ><mat-icon aria-hidden="false" aria-label="delete" fontIcon="delete"></mat-icon
            ></span>
            <span class="counter-tools-label">delete</span>
        </button>
        <button mat-fab (click)="confirmReset()">
            <span
                ><mat-icon aria-hidden="false" aria-label="reset" fontIcon="restart_alt"></mat-icon
            ></span>
            <span class="counter-tools-label">reset</span>
        </button>
        <button mat-fab (click)="editCounterHandle($event, counterDetail()?.id)">
            <span><mat-icon aria-hidden="false" aria-label="edit" fontIcon="edit"></mat-icon></span>
            <span class="counter-tools-label">edit</span>
        </button>
        <button mat-fab (click)="showHistoryHandle($event, counterDetail()?.id)">
            <span
                ><mat-icon aria-hidden="false" aria-label="history" fontIcon="history"></mat-icon
            ></span>
            <span class="counter-tools-label">history</span>
        </button>
    </section>
</article>
