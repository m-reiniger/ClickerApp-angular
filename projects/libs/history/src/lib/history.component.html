<article class="history">
    <mat-icon
        class="close"
        aria-hidden="false"
        aria-label="close"
        fontIcon="close"
        (click)="close()"></mat-icon>
    <h3>{{ counterName }}</h3>
    <section class="history-list">
        <mat-list>
            @for (transaction of sortedTransactions(); track transaction.timestamp) {
                <mat-list-item class="{{ getOperationColor(transaction.operation) }}">
                    <mat-icon matListItemIcon [color]="getOperationColor(transaction.operation)">
                        {{ getOperationIcon(transaction.operation) }}
                    </mat-icon>
                    <div matListItemTitle>
                        <button mat-fab>{{ transaction.currentValue }}</button>
                        {{ formatTitleText(transaction.operation, transaction.value) }}
                    </div>
                    <!-- <div matListItemLine>{{ formatTitleText(transaction.operation, transaction.value) }}</div> -->
                    <div matListItemLine class="timestamp">
                        {{ transaction.timestamp | date: 'medium' }}
                        <span class="time-difference">({{ transaction.timeSincePrevious }})</span>
                    </div>
                </mat-list-item>
            } @empty {
                <mat-list-item>
                    <div matListItemTitle>No transactions yet</div>
                </mat-list-item>
            }
        </mat-list>
    </section>
</article>
